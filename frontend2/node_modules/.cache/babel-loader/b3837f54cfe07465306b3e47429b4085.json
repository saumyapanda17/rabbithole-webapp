{"ast":null,"code":"import { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"HomeView\",\n\n  data() {\n    return {\n      questions: [],\n      next: null,\n      loadingQuestions: false\n    };\n  },\n\n  methods: {\n    getQuestions() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/questions/\";\n\n      if (this.next) {\n        endpoint = this.next;\n      }\n\n      this.loadingQuestions = true;\n      apiService(endpoint).then(data => {\n        this.questions.push(...data.results);\n        this.loadingQuestions = false;\n\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n      });\n    }\n\n  },\n\n  created() {\n    this.getQuestions();\n    document.title = \"QuestionTime\";\n  }\n\n};","map":{"version":3,"mappings":"AAgCA;AACA;EACAA,gBADA;;EAEAC;IACA;MACAC,aADA;MAEAC,UAFA;MAGAC;IAHA;EAKA,CARA;;EASAC;IACAC;MACA;MACA;;MACA;QACAC;MACA;;MACA;MACAC,qBACAC,IADA,CACAR;QACA;QACA;;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA,CATA;IAUA;;EAlBA,CATA;;EA6BAS;IACA;IACAC;EACA;;AAhCA","names":["name","data","questions","next","loadingQuestions","methods","getQuestions","endpoint","apiService","then","created","document"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container mt-2\">\n      <div v-for=\"question in questions\"\n           :key=\"question.pk\">\n        <p class=\"mb-0\">Posted by:\n          <span class=\"question-author\">{{ question.author }}</span>\n        </p>\n        <h2>\n          <router-link\n            :to=\"{ name: 'question', params: { slug: question.slug } }\"\n            class=\"question-link\"\n            >{{ question.content }}\n          </router-link>\n        </h2>\n        <p>Answers: {{ question.answers_count }}</p>\n        <hr>\n      </div>\n      <div class=\"my-4\">\n        <p v-show=\"loadingQuestions\">...loading...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getQuestions\"\n          class=\"btn btn-sm btn-outline-success\"\n          >Load More\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"HomeView\",\n  data() {\n    return {\n      questions: [],\n      next: null,\n      loadingQuestions: false\n    }\n  },\n  methods: {\n    getQuestions() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/questions/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingQuestions = true;\n      apiService(endpoint)\n        .then(data => {\n          this.questions.push(...data.results)\n          this.loadingQuestions = false;\n          if (data.next) {\n            this.next = data.next;\n          } else {\n            this.next = null;\n          }\n        })\n    }\n  },\n  created() {\n    this.getQuestions()\n    document.title = \"QuestionTime\";\n  }\n};\n</script>\n\n<style scoped>\n.question-author {\n  font-weight: bold;\n  color: #DC3545;\n}\n\n.question-link {\n  font-weight: bold;\n  color: black;\n}\n\n.question-link:hover {\n  color: #343A40;\n  text-decoration: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}